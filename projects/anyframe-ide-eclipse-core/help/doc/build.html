<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="TextMate http://macromates.com/">
<meta name="author" content="Eunjin Jang">
<link rel="stylesheet" href="../css/style.css" type="text/css"
	media="screen" title="Anyframe IDE Help CSS" charset="utf-8" />

<title>Anyframe IDE Help::Project Build</title>
</head>

<body>
<table class="header" border="0" cellspacing="0" cellpadding="0">
	<!-- <tr><th>Header</th></tr> -->
	<tr>
		<td style="text-align: left;" width="320px"><img
			src="../images/Anyframe_doc_banner.jpg"
			alt="Anyframe Documentation Banner" /></td>
		<td
			style="text-align: right; font-variant: small-caps; color: #003399; font-size: 18px; vertical-align: bottom;"><strong>Anyframe
		IDE User Guide&nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
	</tr>
	<tr>
		<td style="height: 3px; background-color: #003399;" colspan="2"></td>
	</tr>
</table>

<table style="height: 100%" width="100%" border="0" cellspacing="0"
	cellpadding="0">
	<tr>
		<td class="content">
		<h3>Project Build</h3>

		<p>Anyframe IDE 을 이용해 프로젝트 빌드를 수행할 수 있다.<br>
		프로젝트 생성 시에 빌드 스크립트 파일이 함께 생성되어, 빌드를 수행할 수 있다. 빌드 도구로 Ant를 사용할 경우
		default target 빌드 수행 시 컴파일, 테스트, 패키징, 배포 등의 공통적인 빌드 프로세스 단계를 수행해주고 있다.<br />
		Maven 프로젝트의 경우 POM 파일을 이용하여 빌드 및 패키징, 리포팅을 수행할 수 있다.<br/>
		<ul>
			<li><a href="#mavenall">Maven 프로젝트</a></li>			
			<li><a href="#all">Ant 프로젝트 빌드</a></li>		
		</ul>
		</p>

		<div id="mavenall">
		<h4>Maven 프로젝트 빌드</h4>
		<ol>
		<li>프로젝트 내 pom.xml 확인</li><br/>
		Maven은 pom.xml 파일을 기반으로 빌드되기 때문에 파일에 정의되어 있는 내용을 확인한다.<br/>
		Reporting을 위해서는 &lt;reporting&gt;에 report를 남기고 싶은 Plugin들이 정의되어 있어야 하며,
		Anyframe IDE을 통해서 생성된 Maven 프로젝트에는 JUnit Test, Emma, Jdepend, PMD 등의 reporting Plugin이 추가되어 있다. <br/>
		다음은 Web 타입 프로젝트에 생성된 pom.xml 의 일부분이다. <br/>
			
			<table cellspacing="0" cellpadding="0" width="80%" border="1">
				<tr>
					<td><pre>&lt;reporting&gt;
    &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
            &lt;version&gt;2.5&lt;/version&gt;
            &lt;configuration&gt;
                &lt;forkMode&gt;always&lt;/forkMode&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
        중략...</pre></td>				
				</tr>			
			</table>
			
		<li>프로젝트 내 <b>pom.xml</b> 선택 후 >> <b>Run As</b> >> <b>Maven Build...</b></b>을 선택<br/>
		Goals 에 <b>clean package</b> 를 수행하게 되면 빌드 수행결과 파일 및 Web 타입 프로젝트일 경우 war 파일이, Service 타입 프로젝트일 경우 jar 파일이 생성되고,
		<b>clean site package</b> 를 수행하게 되면 리포트 결과물도 함께 생성되게 된다.<br/>
		빌드 결과물은 [프로젝트 Home]/target에 존재하며, 리포트 결과물은 [프로젝트 Home]/target/site/내에 존재한다.<br/><br/>
		만약 M2Eclipse 를 이용하여 이를 수행하였을 때 "site" goal이 정상적으로 수행이 안 된다면,
		pom.xml 파일이 있는 경로에서 위와 같은 goal을 Command 창을 통해 수행한다. 
		</li>
		</ol>
		</p>
		<br />
		</div>
		
		
		
		<div id="all">
		<h4>Ant 프로젝트 빌드</h4>
		<p>
		<ol>
			<li>프로젝트 내 build.xml 확인</li>
			<br />
			프로젝트 내부로 자동 생성되어진 build.xml 파일이 존재한다. 빌드 스크립트 내에는 빌드 수행을 위한 compile,
			test, package, deploy 등 공통적으로 사용되는 빌드 target 들이 존재한다. 실제 구동 내역을 가지고 있는 공통
			스크립트는 [Anyframe 을 설치한 root 폴더 경로]\ide\cli\scripts\project-build.xml 파일 내에 작성되어 있다.
			프로젝트 별로 변경해야 하는 일이 생기면 공통 스크립트를 수정하면 된다. 또한 각 프로젝트 단위 별로 공통 빌드 내역 외에
			특화된 빌드 내용을 추가해야 하는 경우에는 해당 빌드 target을 확장하여 추가해 넣을 수 있다.
			<br />
			다음은 Web 타입 프로젝트에 생성된 build.xml 의 일부분이다. <br/>
			
			<table cellspacing="0" cellpadding="0" width="80%" border="1">
				<tr>
					<td><pre>&lt;project name="Build module" default="default" basedir="."&gt;		
    &lt;property file = "./.metadata/project.mf"/&gt;
    &lt;import file = "${anyframe.home}/ide/cli/scripts/project-build.xml"/&gt;
	
    &lt;target name="clean" depends = "shared:clean" /&gt;
    &lt;target name="init" depends = "shared:init" /&gt;
    &lt;target name="resources" depends = "shared:resources" /&gt;
    &lt;target name="compile" depends = "shared:compile" /&gt;
    &lt;target name="test-resources" depends = "shared:test-resources" /&gt;
    &lt;target name="test-compile" depends = "shared:test-compile" /&gt;
    &lt;target name="package" depends = "shared:package" /&gt;
    &lt;target name="extract" depends = "shared:extract" /&gt;
    &lt;target name="emma-jars" depends = "shared:emma-jars" /&gt;
    &lt;target name="test" depends = "shared:test" /&gt;
    &lt;target name="report" depends = "shared:report" /&gt;

    &lt;target name = "default" depends = "init, resources, compile, package"/&gt;
    &lt;target name = "deploy" depends = "default, extract"/&gt;	
    &lt;target name = "all" depends = "clean, init, resources, compile, test-resources, test-compile, 
                                       package, emma-jars, test, report"/&gt;	
&lt;/project&gt;</pre></td>				
				</tr>			
			</table>

			<li>프로젝트 내 <b>build.xml</b> 선택 후 >> <b>Run As >> Ant Build</b> 을 
			선택하여 뜬 팝업에서 all target만 지정<br>
			default target이 수행되어 다음과 같은 빌드 프로세스를 거치게 된다. 최종 결과물인 프로젝트 바이너리 파일은 [프로젝트 Home]/dist 폴더
			하위에 존재하게 된다.<br />
			<b>init -> resources -> compile -> package</b> <br>
			</li>
			<li>프로젝트 내 <b>build.xml</b> 선택 후 >> <b>Run As >> Ant
			Build...</b> 을 선택<br>
			default target이 아닌 리포팅 결과물을 생성해내는 target을 실행시켜 본다. 빌드 시 코드 분석 리포트, 테스트 수행 결과 리포트,
			코드 커버리지 리포트 등을 생성시킨다. 리포트 결과물은 [프로젝트 Home]/target/output 폴더에 생성되므로 빌드가 모두 완료된 뒤
			확인해보도록 한다. <br />
			<b>clean -> init -> resources -> compile -> test-resources -> test-compile
			-> package -> emma-jars -> test -> report</b> <br />
			<br />
			</li>
		</ol>
		</p>
		</div>

		</td>
	</tr>
	<tr>
		<td class="footer">
		<table style="text-align: top;" width="100%" border="0"
			cellspacing="0" cellpadding="0">
			<!-- <tr><th>Footer</th></tr> -->
			<tr>
				<td class="copyright">Copyright (C) 2008-2012 Samsung SDS Co.,
				Ltd. All rights reserved.</td>
			</tr>
		</table>
		</td>
	</tr>
</table>
</body>
</html>